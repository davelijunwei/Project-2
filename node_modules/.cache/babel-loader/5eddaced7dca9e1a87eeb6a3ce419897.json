{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/dave/Desktop/iwatch/src/components/Portfolio.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Table } from 'reactstrap';\nimport axios from 'axios';\nimport './Portfolio.css';\nimport Chart from './Chart';\n\nconst Portfolio = ({\n  stock: {\n    quote,\n    cost,\n    date\n  },\n  index,\n  deleteStockSymbol\n}) => {\n  _s();\n\n  const [stockData, setStockData] = useState([]);\n  const [deleteModal, setDeleteModal] = useState(false);\n  const [chartModal, setChartModal] = useState(false);\n  const [invalidSymbolModal, setInvalidSymbolModal] = useState(true);\n  const [missingData, setMissingData] = useState(false); // Rate of Return Calculation\n\n  const rateReturn = (stockData.pc - cost) / cost * 100;\n  const roundedRateReturn = rateReturn.toFixed(); // Toggle Modal\n\n  const toggleDeleteModal = () => setDeleteModal(!deleteModal);\n\n  const toggleChartModal = () => setChartModal(!chartModal);\n\n  const toggleInvalidSymbolModal = () => setInvalidSymbolModal(!invalidSymbolModal); // Holding Period Calculation\n\n\n  let oldDate = date.split(\"-\");\n  let formattedOldDate = new Date(oldDate[0], oldDate[1] - 1, oldDate[2]);\n  let today = new Date();\n  let diff = new Date(today.getTime() - formattedOldDate.getTime());\n  let holdingPeriod = Math.floor(diff / (1000 * 3600 * 24));\n  let HoldingPeriodYear = Math.round(holdingPeriod / 365);\n  let HoldingPeriodDay = holdingPeriod % 365;\n\n  const holdingPeriodChecker = () => {\n    if (!date) {\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        children: \" N/A \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 16\n      }, this);\n    }\n\n    if (HoldingPeriodYear > 1) {\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [\" \", HoldingPeriodYear, \" years \", HoldingPeriodDay, \" days \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 16\n      }, this);\n    } else if (HoldingPeriodYear === 1) {\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [\" \", HoldingPeriodYear, \" year \", HoldingPeriodDay, \" days \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 16\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [\" \", HoldingPeriodDay, \" days \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 16\n      }, this);\n    }\n\n    ;\n  };\n\n  const rateReturnChecker = () => {\n    if (roundedRateReturn > 0) {\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"returnPositive\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          children: [roundedRateReturn, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 47\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 16\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"returnNegative\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          children: [roundedRateReturn, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 47\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 16\n      }, this);\n    }\n  };\n\n  useEffect(() => {\n    (async () => {\n      setMissingData(false);\n\n      try {\n        const data = await axios(`https://finnhub.io/api/v1/quote?symbol=${quote}&token=bugfiof48v6s5hg5c190`);\n        let isMyObjectEmpty = !Object.keys(data.data).length;\n\n        if (isMyObjectEmpty) {\n          setMissingData(true);\n        }\n\n        setStockData(data.data);\n      } catch (err) {\n        console.log(err);\n      }\n    })();\n  }, [quote]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"table-wrapper\",\n    children: missingData ? /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: invalidSymbolModal,\n      toggle: toggleInvalidSymbolModal,\n      children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n        style: {\n          color: \"red\"\n        },\n        toggle: () => {\n          deleteStockSymbol(index);\n          toggleInvalidSymbolModal();\n        },\n        children: \"Invalid Stock Symbol Entered\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n        children: \"Please Enter A Valid U.S. Stock Symbol\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(Table, {\n      Responsive: true,\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"#\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Your Holding\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Current Stock Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Book Cost\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Holding Period\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Return\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"5-Years Chart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: index + 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: quote\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [\"$\", stockData.pc]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [\"$\", cost]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: holdingPeriodChecker()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: rateReturnChecker()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stockChart\",\n              onClick: toggleChartModal,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fas fa-chart-line fa-2x\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 90\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 34\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              borderStyle: \"none\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"deleteStock\",\n              onClick: toggleDeleteModal,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fas fa-trash fa-2x\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 121\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 63\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Modal, {\n            isOpen: chartModal,\n            toggle: toggleChartModal,\n            children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n              toggle: toggleChartModal,\n              children: \"5 Years Interactive Chart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Chart, {\n              stockQuote: quote\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Modal, {\n            isOpen: deleteModal,\n            toggle: toggleDeleteModal,\n            children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n              toggle: toggleDeleteModal,\n              children: \"Delete Confirmation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n              children: [\"Are you sure you want to delete \", quote, \"?\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                color: \"danger\",\n                onClick: () => {\n                  deleteStockSymbol(index);\n                  toggleDeleteModal();\n                },\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 33\n              }, this), ' ', /*#__PURE__*/_jsxDEV(Button, {\n                color: \"secondary\",\n                onClick: toggleDeleteModal,\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 13\n  }, this);\n};\n\n_s(Portfolio, \"haUkdFCmrUOkU6JjXTcgu6Gqosw=\");\n\n_c = Portfolio;\nexport default Portfolio;\n\nvar _c;\n\n$RefreshReg$(_c, \"Portfolio\");","map":{"version":3,"sources":["/Users/dave/Desktop/iwatch/src/components/Portfolio.jsx"],"names":["React","useEffect","useState","Button","Modal","ModalHeader","ModalBody","ModalFooter","Table","axios","Chart","Portfolio","stock","quote","cost","date","index","deleteStockSymbol","stockData","setStockData","deleteModal","setDeleteModal","chartModal","setChartModal","invalidSymbolModal","setInvalidSymbolModal","missingData","setMissingData","rateReturn","pc","roundedRateReturn","toFixed","toggleDeleteModal","toggleChartModal","toggleInvalidSymbolModal","oldDate","split","formattedOldDate","Date","today","diff","getTime","holdingPeriod","Math","floor","HoldingPeriodYear","round","HoldingPeriodDay","holdingPeriodChecker","rateReturnChecker","data","isMyObjectEmpty","Object","keys","length","err","console","log","color","borderStyle"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Table } from 'reactstrap';\nimport axios from 'axios';\nimport './Portfolio.css';\nimport Chart from './Chart';\n\nconst Portfolio = ({stock: {quote, cost, date}, index, deleteStockSymbol},) => {\nconst [stockData, setStockData] = useState([]);\nconst [deleteModal, setDeleteModal] = useState(false);\nconst [chartModal, setChartModal] = useState(false);\nconst [invalidSymbolModal, setInvalidSymbolModal] = useState(true);\nconst [missingData, setMissingData] = useState(false);\n\n// Rate of Return Calculation\nconst rateReturn = (stockData.pc - cost) / cost * 100;\nconst roundedRateReturn = rateReturn.toFixed();\n\n// Toggle Modal\nconst toggleDeleteModal = () => setDeleteModal(!deleteModal);\nconst toggleChartModal = () => setChartModal(!chartModal);\nconst toggleInvalidSymbolModal = () => setInvalidSymbolModal(!invalidSymbolModal);\n\n// Holding Period Calculation\nlet oldDate = date.split(\"-\");\nlet formattedOldDate = new Date(oldDate[0], oldDate[1]-1, oldDate[2]);\nlet today = new Date();\nlet diff = new Date(today.getTime() - formattedOldDate.getTime());\nlet holdingPeriod = Math.floor(diff/ (1000 * 3600 * 24));\nlet HoldingPeriodYear = Math.round(holdingPeriod / 365);\nlet HoldingPeriodDay= holdingPeriod % 365;\n\nconst holdingPeriodChecker = () => {\n    if (!date){\n        return <li> N/A </li>\n    }\n    if ( HoldingPeriodYear > 1 ){\n        return <li> {HoldingPeriodYear} years {HoldingPeriodDay} days </li> \n    } else if (\n        HoldingPeriodYear === 1\n    ){\n        return <li> {HoldingPeriodYear} year {HoldingPeriodDay} days </li>\n    } else {\n        return <li> {HoldingPeriodDay} days </li>\n    };\n};\n\nconst rateReturnChecker = () => {\n    if ( roundedRateReturn > 0 ){\n        return <li className=\"returnPositive\"><a>{roundedRateReturn}%</a></li> \n    } else {\n        return <li className=\"returnNegative\"><a>{roundedRateReturn}%</a></li> \n    }\n}\n\n    useEffect(() => {\n        (async () => {\n        setMissingData(false);\n        try {  \n            const data = await axios(\n            `https://finnhub.io/api/v1/quote?symbol=${quote}&token=bugfiof48v6s5hg5c190`\n          );\n            let isMyObjectEmpty = !Object.keys(data.data).length;\n            if (isMyObjectEmpty ){\n                setMissingData(true)\n            }\n            setStockData(data.data);\n        } catch(err){\n            console.log(err);\n        }\n        })();\n    },[quote]);\n\n    return (\n            <div className=\"table-wrapper\">\n                {\n                    missingData ?\n                    <Modal isOpen={invalidSymbolModal} toggle={toggleInvalidSymbolModal} >\n                        <ModalHeader style={{ color : \"red\"}} toggle={() => {deleteStockSymbol(index); toggleInvalidSymbolModal();}}>Invalid Stock Symbol Entered</ModalHeader>\n                        <ModalBody>\n                            Please Enter A Valid U.S. Stock Symbol\n                        </ModalBody>\n                    </Modal> \n                    :\n                    <Table Responsive>\n                        <thead>\n                            <tr>\n                            <th>#</th>\n                            <th>Your Holding</th>\n                            <th>Current Stock Price</th>\n                            <th>Book Cost</th>\n                            <th>Holding Period</th>\n                            <th>Return</th>\n                            <th>5-Years Chart</th>\n                            <th></th>\n\n                            </tr>\n                        </thead>\n\n                        <tbody>\n                            <tr>\n\n                            <td >{index+1}</td>\n                            <td>{quote}</td>\n                            <td>${stockData.pc}</td>\n                            <td>${cost}</td>\n                            <td>{ holdingPeriodChecker() }</td>\n                            <td>{ rateReturnChecker() }</td>\n                            <td ><span className=\"stockChart\" onClick={toggleChartModal}><i class=\"fas fa-chart-line fa-2x\"></i></span></td>\n                            <td style={{borderStyle: \"none\"}}><span className=\"deleteStock\" onClick={toggleDeleteModal}><i class=\"fas fa-trash fa-2x\"></i></span></td>\n                            \n                        \n                        <Modal isOpen={chartModal} toggle={toggleChartModal} >\n                        <ModalHeader toggle={toggleChartModal}>5 Years Interactive Chart</ModalHeader>\n                            <Chart stockQuote={quote} />\n                        </Modal>    \n\n                        <Modal isOpen={deleteModal} toggle={toggleDeleteModal} >\n                            <ModalHeader toggle={toggleDeleteModal}>Delete Confirmation</ModalHeader>\n                            <ModalBody>\n                                Are you sure you want to delete {quote}?\n                            </ModalBody>\n                            <ModalFooter>\n                                <Button color=\"danger\" onClick={() => {deleteStockSymbol(index); toggleDeleteModal();}}>Delete</Button>{' '}\n                                <Button color=\"secondary\" onClick={toggleDeleteModal}>Cancel</Button>\n                            </ModalFooter>\n                        </Modal>\n                        </tr>\n                        </tbody>    \n                    </Table>\n                }   \n            </div>\n        )\n    }\n\nexport default Portfolio;"]},"metadata":{},"sourceType":"module"}